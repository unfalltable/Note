---
title: 工作流
categories: Java中间件
tags: [中间件]
---

# Activiti7

## 简介

- 做审批和流程
- 是一个引擎
- 传统的实现方式是通过状态字段来实现的
  - 缺点是一旦流程节点增加或减少都要修改代码，很麻烦
  - 链路追踪也麻烦，需要保存历史数据

- Activiti 其实就是封装了上面的操作，用工具来制定流程图规则
- Activiti会将流程图转换成xml文件，然后再解析xml，将对应的记录插入数据库
- 一个流程图中的所有阶段都会存在一张表里
- 一条记录代表一个节点
- 每处理完一个节点就删除上一个节点

# Camunda

## 简介

- 源自Activiti5
- 支持组件模式和云原生
- 高性能（乐观锁、缓存）、高扩展、高稳定、独有的外部任务模式、支持多租户、完善的Api

## 使用方式

### 嵌入用法

- 与业务深度整合，生命周期和业务一致
- 不用单独部署和维护
- 不方便扩容

### 组件式用法

- 不常用

### 中间件用法

- 部署为平台模式，支持多项目公用，与业务完全解耦
- 方便扩容
- 存在单点风险，远程调用存在一定的性能损耗

### 云原生用法（camunda8）













